{% extends 'base/base.html' %}
{% block title %}Order History{% endblock title %}

<!-- Hide footer on order history page -->
{% block footer %}{% endblock %}

{% load static %} {% block start %}

<div class="container mt-4">
  <h3 class="form-group mb-4">Order History</h3>
  {% if orders %}
  <div class="table-responsive">
    <table class="table table-striped table-hover text-center">
      <thead class="thead-dark">
        <tr>
          <th>Order ID #</th>
          <th>Date</th>
          <th>Status</th>
          <th>Total</th>
          <th>Payment Mode</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        {% for order in orders %}
        <tr>
          <td>{{ order.order_id }}</td>
          <td>{{ order.order_date|date:"F j, Y" }}</td>
          <td>
            <span class="badge {% if order.payment_status == 'Paid' %}badge-success{% else %}badge-warning{% endif %}">
              {{ order.payment_status }}
            </span>
          </td>
          <td>â‚¹{{ order.grand_total }}</td>
          <td>{{ order.payment_mode }}</td>
          <td>
            <a href="{% url 'order_details' order.order_id %}" class="btn btn-outline-primary btn-sm">
              View Details
            </a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% else %}
  <div class="text-center py-5">
    <div class="empty-state-container">
      <div class="empty-state-icon mb-4">
        <i class="fas fa-shopping-bag" style="font-size: 4rem; color: #e2e8f0;"></i>
      </div>
      <h3 class="empty-state-title mb-3" style="color: #64748b; font-weight: 600;">No Order History</h3>
      <p class="empty-state-subtitle mb-4" style="color: #94a3b8; font-size: 1.1rem;">
        You haven't placed any orders yet. Start shopping to see your order history here.
      </p>
      <a href="{% url 'index' %}" class="btn btn-primary btn-lg px-4 py-2 start-shopping-btn">
        <i class="fas fa-shopping-bag me-2"></i>Start Shopping
      </a>
    </div>
  </div>
  {% endif %}
</div>

<style>
  .start-shopping-btn {
    background-color: var(--primary-color);
    border-color: var(--primary-color);
    transition: all 0.3s ease;
  }

  .start-shopping-btn:hover {
    background-color: var(--accent-color);
    border-color: var(--accent-color);
    color: var(--text-dark);
  }
</style>

{% endblock %}